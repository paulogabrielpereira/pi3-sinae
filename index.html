<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link rel="stylesheet" href="styles/style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" />
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <title>SINAE | Página Inicial</title>
</head>
<body class="pb-5">
    <header>
        <div class="cabecalho pt-2 d-flex">
            <h5 class="ms-5 mb-2 fw-bolder">Sistema Integrado de Atendimento ao Estudante</h5>
            <p id="data" class="ms-auto mb-0 me-3"></p>
        
            <script>
                const hoje = new Date();
                const opcoes = { weekday: 'long', day: '2-digit', month: 'long', year: 'numeric' };
                const dataFormatada = hoje.toLocaleDateString('pt-BR', opcoes);
                document.getElementById("data").textContent = dataFormatada;
            </script>
        </div>
    </header>
    <main>
        <div class="d-inline-flex align-items-center gap-3 position-relative butoes m-5 ">
                <a href="pages/appointment.html" class="text-decoration-none btn btn1"> <p><span class="material-symbols-outlined iconesB">
                     calendar_today
                </span></p> Realizar Consulta</a>

                <a href="pages/schedule.html" class="text-decoration-none  btn btn2"> <p><span class="material-symbols-outlined iconesB">
                    nest_clock_farsight_analog
                </span></p>Agendar Consulta</a>

                <a href="pages/archives.html" class=" text-decoration-none  btn btn3"><p><span class="material-symbols-outlined iconesB">
                    import_contacts
                </span></p> Consultar Arquivo</a>
        </div>
        <div class="card m-3">
            <h3 class=" mt-3 ms-3 d-flex align-items-center fw-bolder">
                <span class="material-symbols-outlined fw-bolder fs-2 me-2">
                     calendar_today
                </span>  Agenda de Consultas</h3>
                <div id="calendario" class="m-5 mt-3"></div>
        </div>
    </main>
    <script>
        function gerarCalendario() {
            const calendario = document.getElementById('calendario');
            const hoje = new Date();
            const ano = hoje.getFullYear();
            const mes = hoje.getMonth(); // 0 = Janeiro
            const diaHoje = hoje.getDate();

            const nomesMeses = ['Janeiro','Fevereiro','Março','Abril','Maio','Junho','Julho','Agosto','Setembro','Outubro','Novembro','Dezembro'];
            const nomesDias = ['Dom','Seg','Ter','Qua','Qui','Sex','Sáb'];

            // Primeiro dia do mês e quantidade de dias
            const primeiroDia = new Date(ano, mes, 1).getDay();
            const diasNoMes = new Date(ano, mes + 1, 0).getDate();

            // Cabeçalho do mês
            let tabela = `<h4 class="text-center">${nomesMeses[mes]} ${ano}</h4>`;
            tabela += '<table class="table table-borderless text-center">';
            tabela += '<tr></tr>';
            nomesDias.forEach(d => tabela += `<th>${d}</th>`);
            tabela += '<tr></tr><tr></tr>';

            // Preencher os dias vazios antes do primeiro dia
            for (let i = 0; i < primeiroDia; i++) {
                tabela += '<td class = "border-0 vazio"></td>';
            }

            // Preencher os dias do mês
            for (let dia = 1; dia <= diasNoMes; dia++) {
                if (dia === diaHoje) {
                tabela += `<td class="hoje text-white fw-bold border-0"> <span class="tooltip">Marcar Consulta</span> ${dia}</td>`; // destaca dia atual
                } else {
                tabela += `<td> <span class="tooltip">Marcar Consulta</span> ${dia}</td>`;
                }
                if ((dia + primeiroDia) % 7 === 0) tabela += '</tr><tr>'; // nova linha a cada semana
            }

            tabela += '</tr></table>';
            calendario.innerHTML = tabela;
            }

            gerarCalendario();
          
        
    </script>
</body>
</html>